<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curves learning!</title>

    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/kute.js@2.1.2/dist/kute.min.js"></script>
</head>

<body>

  
<!--THIS SECTION IS ABOUT THE MAIN COMPANY PAGE-->
    <section class="pink">
      <div class="blob-content">
        <div class="content">
            <h1>CarbonWise.io</h1>
            <h3 id="tagLine">Measure, reduce, thrive</h3>
        </div>
        <div>
            <!--<a href="loginPage"><button type="button" class="specialButton">Get Started</button></a> -->
        </div>
    </div>
  
        <svg
          class="blob-motion"
          id="visual"
          viewBox="0 0 960 540"
          width="960"
          height="540"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          version="1.1"
        >
          <g transform="translate(450.7256843113689 283.4942824330989)">
            <path
              id="blob1"
              d="M148.7 -134.9C193.7 -103.7 231.9 -51.9 232.4 0.6C233 53 196.1 106.1 151.1 128.6C106.1 151.1 53 143 -4.4 147.4C-61.8 151.8 -123.5 168.5 -151.2 146C-178.8 123.5 -172.4 61.8 -172.8 -0.4C-173.1 -62.5 -180.3 -124.9 -152.6 -156.1C-124.9 -187.3 -62.5 -187.1 -5.3 -181.8C51.9 -176.5 103.7 -166 148.7 -134.9"
              fill="#BB004B"
            ></path>
          </g>
          <g transform="translate(509.54377535978017 281.49390864595887)" style="visibility: hidden">
            <path
              id="blob2"
              d="M115.4 -137.9C137.9 -92.9 136.4 -46.4 133.6 -2.8C130.8 40.8 126.6 81.6 104.1 118.4C81.6 155.2 40.8 188.1 -8.4 196.5C-57.5 204.8 -115 188.7 -151 151.9C-187 115 -201.5 57.5 -190.8 10.7C-180.1 -36.1 -144.1 -72.1 -108.1 -117.1C-72.1 -162.1 -36.1 -216.1 5.2 -221.2C46.4 -226.4 92.9 -182.9 115.4 -137.9"
              fill="#BB004B"
            ></path>
          </g>
        </svg>
  
        <script>
          const tween = KUTE.fromTo(
            '#blob1',
            { path: '#blob1' },
            { path: '#blob2' },
            { repeat: 999, duration: 3000, yoyo: true }
          ).start();
        </script>
      </section>


<!-- THIS SECTION IS ABOUT THE SPLIT SCREEN -->
    <div class="container">
      <!-- Left Side -->
      <div class="block left-block">
          
          <div class="inner-container">
              <div class="box">
                  <p></p>
                  <h1>Daily Carbon Footprint Calculator</h1>
                  
                  <div class="tabs">
                      <button class="tab active" data-tab="transport">Transport</button>
                      <button class="tab" data-tab="electricity">Electricity</button>
                      <button class="tab" data-tab="food">Food</button>
                  </div>

                  <div class="tab-content active" id="transport">
                      <div class="input-group">
                          <label for="carDistance">Car Distance (km)</label>
                          <input type="number" id="carDistance" min="0" value="0">
                      </div>
                <div class="input-group">
                    <label for="busDistance">Bus Distance (km)</label>
                    <input type="number" id="busDistance" min="0" value="0">
                </div>
            </div>

            <div class="tab-content" id="electricity">
                <div class="input-group">
                    <label for="electricity-usage">Electricity Usage (kWh)</label>
                    <input type="number" id="electricity-usage" min="0" value="0">
                </div>
            </div>

            <div class="tab-content" id="food">
                <div class="input-group">
                    <label for="meatMeals">Meat-based Meals</label>
                    <input type="number" id="meatMeals" min="0" value="0">
                </div>
                <div class="input-group">
                    <label for="vegMeals">Vegetarian Meals</label>
                    <input type="number" id="vegMeals" min="0" value="0">
                </div>
            </div> 
              </div>
              <div class="box">
                  <p></p>
                  <button onclick="calculateFootprint()">Calculate Footprint</button>
        <button class="reset-button" onclick="resetForm()">Reset</button>
        <div class="results">
            <div class="result-card">
                <div class="result-label">Transport</div>
                <div class="result-value" id="transportResult">0 kg CO₂</div>
            </div>
            <div class="result-card">
                <div class="result-label">Electricity</div>
                <div class="result-value" id="electricityResult">0 kg CO₂</div>
            </div>
            <div class="result-card">
                <div class="result-label">Food</div>
                <div class="result-value" id="foodResult">0 kg CO₂</div>
            </div>
            <div class="result-card total">
                <div class="result-label">Total</div>
                <div class="result-value" id="totalResult">0 kg CO₂</div>
            </div>
        </div>
              </div>
          </div>
      </div>

      <!-- Right Side -->
      <div class="block right-block">
      
          <div class="inner-container">
              <div class="box">
                  <h1>Facts</h1>
                  <div class="facts-section">
                    <h2>Did you know?</h2>
                    <p id="fact-text"></p>
                    <a href="#" id="fact-link">Learn more</a>
                  </div>
              </div>
              
          </div>
      </div>
  </div>

  <script>
    // Tab switching functionality
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            // Remove active class from all tabs and contents
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.add('active');
        });
    });

    // Emission factors
    const EMISSION_FACTORS = {
        car: 0.2,        // kg CO2/km
        bus: 0.08,       // kg CO2/km
        electricity: 0.5, // kg CO2/kWh
        meatMeal: 3.0,   // kg CO2/meal
        vegMeal: 0.5     // kg CO2/meal
    };

    function calculateFootprint() {
        // Get input values
        const carDistance = parseFloat(document.getElementById('carDistance').value) || 0;
        const busDistance = parseFloat(document.getElementById('busDistance').value) || 0;
        const electricity = parseFloat(document.getElementById('electricity-usage').value) || 0;
        const meatMeals = parseFloat(document.getElementById('meatMeals').value) || 0;
        const vegMeals = parseFloat(document.getElementById('vegMeals').value) || 0;

          // Accumulate electricity usage (if needed)
let totalElectricity = 0; // Initialize a variable to store total electricity usage
// Check if there's a previous value (for switching tabs)
const previousElectricity = parseFloat(localStorage.getItem('electricityUsage')) || 0;
totalElectricity += previousElectricity; // Add previous value if available
// Add current input value
totalElectricity += parseFloat(document.getElementById('electricity-usage').value) || 0;

        // Calculate emissions
        const transport = (carDistance * EMISSION_FACTORS.car) + 
                        (busDistance * EMISSION_FACTORS.bus);
        const electricityEmissions = electricity * EMISSION_FACTORS.electricity;
        const food = (meatMeals * EMISSION_FACTORS.meatMeal) + 
                    (vegMeals * EMISSION_FACTORS.vegMeal);
        const total = transport + electricityEmissions + food;

        // Update results
        document.getElementById('transportResult').textContent = `${transport.toFixed(2)} kg CO₂`;
        
        // Update results (using totalElectricity)
document.getElementById('electricityResult').textContent = `${totalElectricity.toFixed(2)} kg CO₂`;
        document.getElementById('foodResult').textContent = `${food.toFixed(2)} kg CO₂`;
        document.getElementById('totalResult').textContent = `${total.toFixed(2)} kg CO₂`;

        // Store current electricity usage for future calculations (optional)
localStorage.setItem('electricityUsage', totalElectricity);
        
// Show results
        document.querySelector('.results').style.display = 'grid';
        
        // Update and show facts section after a delay
setTimeout(() => {
const selectedTab = document.querySelector('.tab.active').dataset.tab;

let factText, factLink;
    switch (selectedTab) {
      case 'transport':
        factText = "Taking public transport instead of driving a car can significantly reduce your carbon footprint. Consider cycling, walking, or carpooling whenever possible.";
        factLink = "https://www.google.com/url?sa=E&source=gmail&q=https://www.gov.uk/government/organisations/department-for-transport&authuser=1";
        break;
      case 'electricity':
        factText = "Switching to energy-efficient appliances and using renewable energy sources can help minimize your electricity footprint.";
        factLink = "https://energysavingtrust.org.uk/";
        break;
      case 'food':
        factText = "Reducing your meat consumption and opting for plant-based meals can significantly lower your food footprint.";
        factLink = "https://www.fao.org/home/en/";
        break;
    }


document.getElementById('fact-text').textContent = factText;
document.getElementById('fact-link').href = factLink;
document.querySelector('.facts-section').style.display = 'block';
}, 500);
}
    function resetForm() {
// Reset input fields
document.getElementById('carDistance').value = 0;
document.getElementById('busDistance').value = 0;
document.getElementById('electricity-usage').value = 0;
document.getElementById('meatMeals').value = 0;
document.getElementById('vegMeals').value = 0;

// Reset result display
document.getElementById('transportResult').textContent = '0 kg CO₂';
document.getElementById('electricityResult').textContent = '0 kg CO₂';
document.getElementById('foodResult').textContent = '0 kg CO₂';
document.getElementById('totalResult').textContent = '0 kg CO₂';

// Show results and facts section
document.querySelector('.facts-section').style.display = 'block';
}
</script>
</body>

</html>